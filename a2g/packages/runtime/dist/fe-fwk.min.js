const{destroyDOM:t}=require("./destroy-dom"),{mountDOM:n}=require("./mount-dom"),{Dispatcher:e}=require("./dispatcher");function r({state:r,view:o,reducers:u={}}){let c=null,i=null;const s=new e,l=[s.afterEveryCommand(f)];function a(t,n){s.dispatch(t,n)}for(const t in u){const n=u[t],e=s.subscribe(t,(t=>{console.log(t),r=n(r,t),console.log(r)}));l.push(e)}function f(){i&&t(i),i=o(r,a),n(i,c)}return{mount(t){c=t,f()},unmount(){t(i),i=null,l.forEach((t=>t()))}}}const{withoutNulls:o}=require("./utils/arrays"),u={TEXT:"text",ELEMENT:"element",FRAGMENT:"fragment"};function c(t,n={},e=[]){return{tag:t,props:n,children:s(o(e)),type:u.ELEMENT}}function i(t){return{type:u.TEXT,value:t}}function s(t){return t.map((t=>"string"==typeof t?i(t):t))}function l(t){return{type:u.FRAGMENT,children:s(o(t))}}export{u as DOM_TYPES,r as createApp,c as h,l as hFragment,i as hString};
